[pytest]
; 测试发现配置
testpaths = test_cases
python_files = test_*.py
python_classes = Test*
python_functions = test_*

; Allure报告配置
addopts =
    ; 失败重试3次，每次间隔2秒
    --reruns 3
    --reruns-delay 2
    ; 并行4进程（pytest-xdist）
    -n 4
    ; 详细输出
    -v
    ; 生成Allure报告
    --alluredir=../allure-results
    --clean-alluredir
    ; 添加回溯样式配置
    --tb=short

; 测试日志配置
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)d)
log_cli_date_format = %Y-%m-%d %H:%M:%S